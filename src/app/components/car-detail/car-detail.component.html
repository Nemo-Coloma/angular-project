<div class="container py-5">
  <div class="row g-5">
    <!-- Left Side: Image Carousel -->
    <div class="col-lg-7">
      <div id="carDetailCarousel" class="carousel slide shadow-sm rounded overflow-hidden" data-bs-ride="carousel">
        <div class="carousel-indicators">
          <button *ngFor="let image of carImages; let i = index" type="button" data-bs-target="#carDetailCarousel"
            [attr.data-bs-slide-to]="i" [class.active]="i === 0" [attr.aria-current]="i === 0"
            [attr.aria-label]="'Slide ' + (i + 1)"></button>
        </div>
        <div class="carousel-inner bg-light">
          <!-- Main Car Image from Car Data if carImages is empty -->
          <div *ngIf="carImages.length === 0 && cars.length > 0" class="carousel-item active">
            <img [src]="cars[0].imagePath" class="d-block w-100 object-fit-cover" height="450" alt="Main image">
          </div>
          <!-- Images from CarImageService -->
          <div *ngFor="let image of carImages; let i = index" class="carousel-item" [class.active]="i === 0">
            <img [src]="image.imagePath" class="d-block w-100 object-fit-cover" height="450" alt="Car image">
          </div>
        </div>
        <button class="carousel-control-prev" type="button" data-bs-target="#carDetailCarousel" data-bs-slide="prev">
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Previous</span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#carDetailCarousel" data-bs-slide="next">
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Next</span>
        </button>
      </div>
    </div>

    <!-- Right Side: Car Information -->
    <div class="col-lg-5" *ngIf="dataLoaded && cars.length > 0">
      <div class="car-info-card p-4 rounded shadow-sm bg-white border h-100">
        <div class="mb-4">
          <span class="badge bg-dark mb-2 px-3 py-2 text-uppercase letter-spacing-1">{{ cars[0].brandName }}</span>
          <h2 class="fw-bold display-6 mb-1">{{ cars[0].carName }}</h2>
          <p class="text-muted">{{ cars[0].modelYear }} Model</p>
        </div>

        <div class="price-section mb-4 pb-4 border-bottom">
          <h3 class="fw-bold text-dark d-inline-block">â‚±{{ cars[0].dailyPrice }}</h3>
          <span class="text-muted ms-2">/ day</span>
        </div>

        <div class="specs-grid mb-4">
          <div class="row g-3">
            <div class="col-6">
              <div class="p-3 rounded bg-light border text-center">
                <small class="text-muted d-block text-uppercase small-label">Color</small>
                <span class="fw-bold">{{ cars[0].colorName }}</span>
              </div>
            </div>
            <div class="col-6">
              <div class="p-3 rounded bg-light border text-center">
                <small class="text-muted d-block text-uppercase small-label">Year</small>
                <span class="fw-bold">{{ cars[0].modelYear }}</span>
              </div>
            </div>
          </div>
        </div>

        <div class="mb-4">
          <h6 class="fw-bold text-uppercase small-label mb-2">Description</h6>
          <p class="text-muted small">{{ cars[0].description }}</p>
        </div>

        <div class="d-grid gap-2">
          <button [routerLink]="['/car/rental', cars[0].carId]" class="btn btn-dark btn-lg shadow">Rent This
            Car</button>
          <button routerLink="/cars" class="btn btn-outline-secondary">Go Back to Listing</button>
        </div>
      </div>
    </div>
  </div>
</div>